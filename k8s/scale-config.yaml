apiVersion: keda.sh/v1alpha1
kind: ScaledObject
metadata:
   name: keda-demo-scaledobject
spec:
   scaleTargetRef:
      name: keda-demo
   minReplicaCount: 1
   maxReplicaCount: 5
   triggers:
      - type: prometheus
        metadata:
           serverAddress: http://kube-prom-stack-kube-prome-prometheus.observability.svc.cluster.local:9090
           metricName: http_server_requests_seconds_count
           threshold: '5'
           query: sum(rate(http_server_requests_seconds_count[1m]))
